<!--
  Generated template for the HomePage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-navbar *navbar>
    <ion-title>Home</ion-title>
</ion-navbar>

<ion-content class="home">
    <button (click)="goPage('login')">Login</button>
    <ion-refresher (start)="doStart($event)" (refresh)="doRefresh($event)" (pulling)="doPulling($event)">
    </ion-refresher>
    <!--<ion-list>
        <ion-item *ngFor="#post of posts" (click)="goDetail(post)">
            <ion-avatar item-left>
                <img src="{{post.author.gravatar}}">
            </ion-avatar>
            <h2>{{post.title}}</h2>
            <p>{{post.author.name}} • {{post.node.name}}</p>
            <button clear item-right>View</button>
        </ion-item>
    </ion-list>-->
    <ion-card *ngFor="#post of posts" (click)="goDetail(post)">
        <ion-item>
            <ion-avatar item-left>
                <img src="{{post?.author?.gravatar}}" alt="">
            </ion-avatar>
            <h2>{{post?.author?.name}}</h2>
            <p>{{post?.created_at | date: 'short'}} • <ion-icon name="eye"></ion-icon>  {{post?.views_count}} </p>
        </ion-item>
        <ion-card-content>
            <ion-scroll [innerHTML]="post?.content"></ion-scroll>
        </ion-card-content>
    </ion-card>
    <ion-infinite-scroll (infinite)="loadmore($event)">
        <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>